# -------------------------------
# modules/coach_module.py
# -------------------------------

def build_coach_message(weather_main: str, temp: float) -> str:
    """
    ë‚ ì”¨ + ê¸°ì˜¨ì— ë”°ë¼ ì½”ì¹­ ë©”ì‹œì§€ ìƒì„±.
    v2 (ì™„ì „ì²´): config/env.py ê¸°ì¤€ìœ¼ë¡œ í™•ìž¥ ê°€ëŠ¥.
    """
    hot = temp is not None and temp >= 30
    cold = temp is not None and temp <= 0

    # ðŸŒ§ï¸ ë¹„/ëˆˆ/ì²œë‘¥ ë“± â†’ ì‹¤ë‚´ ìš´ë™ ë£¨í‹´
    if weather_main in ("Rain", "Drizzle", "Thunderstorm", "Snow"):
        return (
            "â˜”ï¸/â„ï¸ ì˜¤ëŠ˜ì€ ë°”ê¹¥ ë‚ ì”¨ê°€ ì•ˆ ì¢‹ì•„ìš”!\n"
            "ðŸ‹ï¸ ì‹¤ë‚´ ê·¼ë ¥ 10ë¶„ + ðŸ§˜ ìŠ¤íŠ¸ë ˆì¹­ 10ë¶„ ì¶”ì²œ!\n"
            "íŠ¸ë ˆë“œë°€ì´ ìžˆìœ¼ë©´ ê°€ë³ê²Œ ê±·ê¸° 15ë¶„ë„ ì¢‹ì•„ìš”."
        )

    # ðŸ”¥ ë”ìš´ ë‚ ì”¨
    if hot:
        return (
            "ðŸ¥µ ë”ìš´ ë‚ ì”¨ë„¤ìš”! íƒˆìˆ˜ ì¡°ì‹¬í•˜ì„¸ìš”.\n"
            "ðŸƒ ë‹¬ë¦¬ê¸° 20ë¶„(ê·¸ëŠ˜ ìœ„ì£¼) + ðŸ’ª ê·¼ë ¥ 10ë¶„ + ðŸ§˜ ìŠ¤íŠ¸ë ˆì¹­ 10ë¶„!"
        )

    # â„ï¸ ì¶”ìš´ ë‚ ì”¨
    if cold:
        return (
            "ðŸ¥¶ ì˜¤ëŠ˜ì€ ì¶”ì›Œìš”! ì¤€ë¹„ìš´ë™ì„ ê¸¸ê²Œ í•´ìš”.\n"
            "ðŸƒ ë‹¬ë¦¬ê¸° 20ë¶„(ì›Œë°ì—… ì¶©ë¶„ížˆ) + ðŸ’ª ì‹¤ë‚´ ê·¼ë ¥ 10ë¶„ + ðŸ§˜ ìŠ¤íŠ¸ë ˆì¹­ 10ë¶„!"
        )

    # â˜€ï¸ ë§‘ì€ ë‚ ì”¨
    if weather_main == "Clear":
        return (
            "â˜€ï¸ ë§‘ì€ ë‚ ì´ì—ìš”!\n"
            "ðŸƒ ë‹¬ë¦¬ê¸° 30ë¶„ + ðŸ’ª ê·¼ë ¥ 10ë¶„ + ðŸ§˜ ìŠ¤íŠ¸ë ˆì¹­ 10ë¶„ ì¶”ì²œ!"
        )

    # ðŸŒ¤ï¸ íë¦¼/ê¸°íƒ€
    return (
        "ðŸŒ¤ï¸ ë¬´ë‚œí•œ ë‚ ì”¨ì˜ˆìš”!\n"
        "ðŸƒ ë‹¬ë¦¬ê¸° 30ë¶„ + ðŸ’ª ê·¼ë ¥ 10ë¶„ + ðŸ§˜ ìŠ¤íŠ¸ë ˆì¹­ 10ë¶„ìœ¼ë¡œ ëª¸ì„ í’€ì–´ìš”!"
    )
